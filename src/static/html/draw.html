<!DOCTYPE html>
<html>
    <head>
        <title>EtherDraw</title>
        <link rel='stylesheet' href='/static/css/style.css'>
        <script src='/static/js/draw.js' type='text/paperscript' canvas='sketch'></script>
    </head>
    <body>
        <div id="controls">
            <div id="userCountWrapper" style="opacity:0"> artists:
                <span id="userCount"></span>
            </div>
            <div data-color="47,47,47" class="color" style="background:rgb(37,37,37);"></div>
            <div data-color="109,73,37" class="color active" style="background:rgb(109,73,37);"></div>
            <div data-color="233,34,41" class="color" style="background:rgb(233,34,41);"></div>
            <div data-color="57,178,73" class="color" style="background:rgb(57,178,73);"></div>
            <div data-color="247,219,31" class="color" style="background:rgb(247,219,31);"></div>
            <div data-color="248,172,60" class="color" style="background:rgb(248,172,60);"></div>
            <div data-color="142,42,140" class="color" style="background:rgb(142,42,140);"></div>
            <div data-color="77,42,255" class="color" style="background:rgb(77,42,255);"></div>
            <div data-color="255,255,255" class="color" style="background:rgb(255,255,255);"></div>
            <label>Opacity
               <input type="range" min="0" max="255" value="200" id="opacity">
            </label>
        </div>

        <canvas id='sketch' resize='true'></canvas>

        <script src='/socket.io/socket.io.js' type='text/javascript'></script>
        <script src='/static/js/lib/zepto.js' type='text/javascript'></script>
        <script src='/static/js/lib/paper.js' type='text/javascript'></script>
        <script src='/static/js/etherdraw.sketch.js' type='text/javascript'></script>
        <script src='/static/js/etherdraw.util.js' type='text/javascript'></script>
        <script type='text/javascript'>

/* Initialize a new sketch as soon as the DOM is ready
 *
 * TODO Is it save to extract the sketch identifier like that?
 */
$(function() {
  var id = EtherDraw.Util.getIdentifierFromUrl(window.location);
  var sketch = new EtherDraw.Sketch(id, $(sketch));
alert('x');
});

        </script>
    </body>
</html>
